using System;

class ВгадайСлово
{
    // Матриця слів
    static char[][] СЛОВА = {
        new char[] { 'т', 'а', 'к' },
        new char[] { 'к', 'і', 'т' },
        new char[] { 'с', 'л', 'о', 'н' },
        new char[] { 'р', 'и', 'б', 'а' }
    };

    // Константа для максимальних невдалих спроб
    const int МАКС_СПРОБ = 5;

    static void Main()
    {
        // Випадковий вибір слова з матриці
        Random випадкове = new Random();
        char[] вибранеСлово = СЛОВА[випадкове.Next(СЛОВА.Length)];

        // Ініціалізація масиву зірочок
        char[] відгаданеСлово = new char[вибранеСлово.Length];
        for (int i = 0; i < відгаданеСлово.Length; i++)
        {
            відгаданеСлово[i] = '*';
        }

        int спроби = 0; // Лічильник невдалих спроб
        bool словоВідгадане = false; // Чи відгадано слово повністю

        Console.WriteLine("Ласкаво просимо до гри Вгадай Слово!");
        Console.WriteLine("Спробуйте відгадати слово. Ви можете зробити " + МАКС_СПРОБ + " невдалих спроб.");

        // Цикл гри
        while (спроби < МАКС_СПРОБ && !словоВідгадане)
        {
            // Виведення слова з зірочками
            Console.Write("Поточне слово: ");
            Console.WriteLine(new string(відгаданеСлово));

            // Запитання літери та позиції
            Console.Write("Введіть літеру: ");
            char літера = Console.ReadLine()[0];

            Console.Write("Введіть позицію літери (0 до " + (вибранеСлово.Length - 1) + "): ");
            int позиція;
            if (!int.TryParse(Console.ReadLine(), out позиція) || позиція < 0 || позиція >= вибранеСлово.Length)
            {
                Console.WriteLine("Неправильна позиція! Спробуйте ще раз.");
                continue;
            }

            // Перевірка, чи правильно введено літеру та позицію
            if (вибранеСлово[позиція] == літера)
            {
                відгаданеСлово[позиція] = літера; // Замінюємо зірочку на літеру
                Console.WriteLine("Правильна літера!");

                // Перевірка, чи всі літери відгадані
                словоВідгадане = true;
                for (int i = 0; i < відгаданеСлово.Length; i++)
                {
                    if (відгаданеСлово[i] == '*')
                    {
                        словоВідгадане = false;
                        break;
                    }
                }
            }
            else
            {
                спроби++;
                Console.WriteLine("Неправильна літера! Залишилось спроб: " + (МАКС_СПРОБ - спроби));
            }
        }

        // Підсумок гри
        if (словоВідгадане)
        {
            Console.WriteLine("Вітаємо! Ви відгадали слово: " + new string(відгаданеСлово));
        }
        else
        {
            Console.WriteLine("Гру завершено! Ви використали всі спроби.");
            Console.WriteLine("Правильне слово було: " + new string(вибранеСлово));
        }
    }
}
